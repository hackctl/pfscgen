# PFSCGen - Prometheus File Service Discovery Config Generator

A simple and intuitive web-based tool to generate Prometheus File Service Discovery configurations with a modern UI. Just input fields and clicks to get your Prometheus file-based service discovery configuration done!

![PFSCGen Screenshot](screenshot.png)

## Features

- **Simple User Interface**: Clean and intuitive web interface
- **Real-time Preview**: See your configuration as you type
- **Dynamic Form Fields**: Add/remove targets and labels dynamically
- **Sample Configurations**: Pre-built samples for common use cases
- **Download & Copy**: Download generated configs or copy to clipboard
- **Docker Support**: Easy deployment with Docker Compose

## Sample Configurations

The tool includes pre-built samples for:
- **Node Exporter**: Standard node monitoring setup
- **MySQL Exporter**: Database monitoring configuration
- **Custom Targets**: Generic application monitoring

## Usage

### Quick Start with Docker

1. **Clone and run:**
   ```bash
   git clone <repository-url>
   cd pfscgen
   docker compose up
   ```

2. **Access the generator:**
   - Open your browser and go to `http://localhost:3000`

### Manual Setup

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Start the server:**
   ```bash
   npm start
   ```

3. **Access the generator:**
   - Open your browser and go to `http://localhost:3000`

## How to Use

1. **Enter Job Name**: Provide a descriptive name for your monitoring job
2. **Set File Path**: Specify where Prometheus should look for the targets file
3. **Add Targets**: Enter the endpoints you want to monitor (e.g., `localhost:9100`)
4. **Add Labels**: Optionally add custom labels for better organization
5. **Generate**: Click "Generate Configuration" to create your config
6. **Download/Copy**: Save or copy the generated configuration

## Generated Configuration

The tool generates two parts:

1. **Prometheus Job Configuration**: The main job configuration with file_sd_configs
2. **Targets File Content**: The actual targets file that Prometheus will read

### Example Output

```yaml
# Prometheus File Service Discovery Configuration
# Generated by PFSCGen

# Job configuration
- job_name: 'node-exporter'
  file_sd_configs:
    - files:
        - '/etc/prometheus/targets.yml'
      refresh_interval: 5m

# File-based targets configuration
# Save this content to the file specified above
- targets:
    - 'localhost:9100'
    - 'server1:9100'
    - 'server2:9100'
  labels:
    job: 'node-exporter'
    env: 'production'
```

## File Structure

```
pfscgen/
├── server.js              # Express server
├── package.json           # Node.js dependencies
├── docker-compose.yml     # Docker configuration
├── Dockerfile            # Container definition
├── views/
│   └── index.ejs         # Main UI template
├── public/
│   ├── css/
│   │   └── style.css     # Application styles
│   └── js/
│       └── app.js        # Frontend logic
└── README.md             # This file
```

## Dependencies

- **Backend**: Node.js, Express, EJS
- **Frontend**: Bootstrap 5, Font Awesome
- **Container**: Docker, Docker Compose

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Submit a pull request

## License

MIT License - see LICENSE file for details

## Related Projects

- **[prfcgen](https://github.com/hackctl/prfcgen)**: Prometheus alert rule file generator
- **[bcongen](https://github.com/hackctl/bcongen)**: Blackbox exporter config generator

---

Built with ❤️ by [hackctl](https://github.com/hackctl) 